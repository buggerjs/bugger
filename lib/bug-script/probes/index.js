// Generated by CoffeeScript 2.0.0-beta7
var knownProbes;
knownProbes = [
  './coffee',
  './network',
  './profiler',
  './timeline',
  './console'
];
module.exports = function (safe, filter) {
  var compilers, probesToLoad, scriptContext;
  if (null == safe)
    safe = false;
  if (null == filter)
    filter = null;
  if (typeof filter === 'string')
    filter = filter.split(',');
  if (!(Array.isArray(filter) && filter.length > 0))
    filter = null;
  compilers = {
    '.js': {
      compile: function (filename, code) {
        return {
          code: code,
          map: null
        };
      },
      compileString: function (input) {
        return input;
      }
    }
  };
  scriptContext = { compilers: compilers };
  probesToLoad = null != filter ? probesToLoad = knownProbes.filter(function (probe) {
    return filter.indexOf(probe.substr(2)) !== -1;
  }) : knownProbes;
  probesToLoad.forEach(function (probeModule) {
    var load;
    load = require(probeModule).load;
    return load(scriptContext, safe);
  });
  return scriptContext;
};
